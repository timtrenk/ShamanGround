# policies/runtime_v1.next.yaml
runtime:
  mode: active
  diagnostics:
    default_visibility: on_demand
    emit_on:
      thread_end: true
      explicit_request: true     # trigger: "show diagnostics"
      trap_escalation: false
  receipts:
    path: ./receipts/{session_id}.json
    keep_fields: [session_id, traps_triggered, gates_fired, braid_quality, residual_index, crown_status]
  logging:
    level: info
    redact_fields: [prompt_text]
